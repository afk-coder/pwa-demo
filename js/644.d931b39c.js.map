{"version":3,"file":"js/644.d931b39c.js","mappings":"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","sources":["webpack://sl-device-vue/./src/components/CustomFileUpload/index.vue","webpack://sl-device-vue/./src/components/CustomPhoto/index.vue","webpack://sl-device-vue/src/components/CustomPhoto/index.vue","webpack://sl-device-vue/./src/components/CustomPhoto/index.vue?0325","webpack://sl-device-vue/./src/components/CustomPhoto/index.vue?5846","webpack://sl-device-vue/src/components/CustomFileUpload/index.vue","webpack://sl-device-vue/./src/components/CustomFileUpload/index.vue?46c2","webpack://sl-device-vue/./src/components/CustomFileUpload/index.vue?ff47","webpack://sl-device-vue/./src/views/ticket/task/dispose.vue","webpack://sl-device-vue/src/views/ticket/task/dispose.vue","webpack://sl-device-vue/./src/views/ticket/task/dispose.vue?eecc","webpack://sl-device-vue/./src/views/ticket/task/dispose.vue?fe3a"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-uploader',{attrs:{\"accept\":_vm.accept,\"name\":_vm.name,\"max-count\":_vm.maxCount,\"capture\":_vm.capture,\"before-delete\":_vm.beforeDelete},on:{\"click-upload\":function($event){$event.preventDefault();return _vm.clickUpload.apply(null, arguments)}},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}}),_c('custom-photo',{ref:\"uploader\",attrs:{\"accept\":_vm.accept,\"name\":_vm.name,\"max-count\":_vm.maxCount,\"capture\":_vm.capture},on:{\"onPhoto\":_vm.onPhoto}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-uploader',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"uploader\",attrs:{\"accept\":_vm.accept,\"name\":_vm.name,\"max-count\":_vm.maxCount,\"capture\":_vm.capture,\"before-read\":_vm.beforeRead,\"after-read\":_vm.afterRead}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-uploader\r\n      v-show=\"false\"\r\n      ref=\"uploader\"\r\n      :accept=\"accept\"\r\n      :name=\"name\"\r\n      :max-count=\"maxCount\"\r\n      :capture=\"capture\"\r\n      :before-read=\"beforeRead\"\r\n      :after-read=\"afterRead\" />\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n  name: 'CustomPhoto',\r\n  props: {\r\n    name: {\r\n      type: String,\r\n      require: true\r\n    },\r\n    accept: {\r\n      type: String,\r\n      require: true\r\n    },\r\n    maxCount: {\r\n      type: String,\r\n      require: true,\r\n      default() {\r\n        return '3'\r\n      }\r\n    },\r\n    capture: {\r\n      type: String,\r\n      require: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      fileType: {\r\n        'attachs': [\r\n          'application/vnd.ms-excel',\r\n          'application/msword', 'application/pdf',\r\n          'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n          'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\r\n        ],\r\n        'image': ['image/jpeg', 'image/png', 'image/jpg'],\r\n        'audio': []\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n  },\r\n  methods: {\r\n    beforeRead(file, detail) {\r\n      const isFile = this.fileType[detail.name].indexOf(file.type) >= 0\r\n      if (!isFile) {\r\n        this.$toast('文件上传格式错误')\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    afterRead(file) {\r\n      this.$emit('onPhoto', file)\r\n    },\r\n    take() {\r\n      this.$nextTick(() => {\r\n        this.$refs.uploader.chooseFile()\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=91ed2b4a&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"91ed2b4a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <van-uploader\r\n      v-model=\"fileList\"\r\n      :accept=\"accept\"\r\n      :name=\"name\"\r\n      :max-count=\"maxCount\"\r\n      :capture=\"capture\"\r\n      :before-delete=\"beforeDelete\"\r\n      @click-upload.prevent=\"clickUpload\"/>\r\n    <custom-photo\r\n      ref=\"uploader\"\r\n      :accept=\"accept\"\r\n      :name=\"name\"\r\n      :max-count=\"maxCount\"\r\n      :capture=\"capture\"\r\n      @onPhoto=\"onPhoto\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CustomPhoto from '@/components/CustomPhoto/index.vue'\r\n\r\nexport default {\r\n  name: 'CustomFileUpload',\r\n  components: {CustomPhoto},\r\n  props: {\r\n    name: {\r\n      type: String,\r\n      require: true\r\n    },\r\n    accept: {\r\n      type: String,\r\n      require: true\r\n    },\r\n    maxCount: {\r\n      type: String,\r\n      require: true,\r\n      default() {\r\n        return '3'\r\n      }\r\n    },\r\n    capture: {\r\n      type: String,\r\n      require: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      fileList: []\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  mounted() {\r\n    this.$on('input', res => {\r\n      console.log(res)\r\n      this.fileList = res\r\n    })\r\n  },\r\n  methods: {\r\n    beforeDelete(file) {\r\n      this.fileList.splice(file, 1)\r\n      this.$emit('input', this.fileList)\r\n    },\r\n    onPhoto(file) {\r\n      const fileFormData = new FormData()\r\n      fileFormData.append('file', file.file)\r\n      this.$postFile('/upload/file', fileFormData).then(res => {\r\n        this.fileList.push({ url: this.$api.baseImage + res, isImage: true })\r\n        this.$emit('input', this.fileList)\r\n      }).catch(() => {\r\n      })\r\n    },\r\n    clickUpload(event) {\r\n      event.preventDefault()\r\n      // 判断是否H5\r\n      console.log(this.$utils.isPwa())\r\n      if (this.$utils.isPwa()) {\r\n        this.$refs.uploader.take()\r\n      } else {\r\n        this.$bridge.CollectPhoto(0).then(res => {\r\n          if (!res) {\r\n            this.$toast('未选择图片')\r\n          } else {\r\n            this.$post('/upload/image', { base64: res }).then(res => {\r\n              this.fileList.push({ url: this.$api.baseImage + res, isImage: true })\r\n              this.$emit('input', this.fileList)\r\n            }).catch(() => {\r\n            })\r\n          }\r\n        })\r\n      }\r\n      // this.$bridge.DeviceInfo().then(res => {\r\n      //   console.log(res)\r\n      //   if (res.platform === 'ios' || res.platform === 'android') {\r\n      //     this.$bridge.CollectPhoto(0).then(res => {\r\n      //       if (!res) {\r\n      //         this.$toast('未选择图片')\r\n      //       } else {\r\n      //         const base64 = 'data:image/png;base64,' + res\r\n      //         this.fileList.push({ content: base64, url: base64, isImage: true })\r\n      //       }\r\n      //     })\r\n      //   } else {\r\n      //     this.$refs.uploader.take()\r\n      //   }\r\n      // })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0cab2d65&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0cab2d65\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-form',{attrs:{\"show-error-message\":false},on:{\"submit\":_vm.onSubmit,\"failed\":_vm.validFailed}},[_vm._l((_vm.list),function(item,index){return _c('div',{key:index},[_c('van-cell',{attrs:{\"title\":item.name,\"border\":false}}),(item.options_id === 'text')?_c('div',[_c('van-field',{attrs:{\"name\":_vm.ticketData[item.id],\"required\":item.not_skip_flag === 'T',\"placeholder\":\"请输入\",\"rules\":[{ required: item.not_skip_flag === 'T', message: '请输入' }]},model:{value:(_vm.ticketData[item.id]),callback:function ($$v) {_vm.$set(_vm.ticketData, item.id, $$v)},expression:\"ticketData[item.id]\"}})],1):_vm._e(),(item.options_id === 'number')?_c('div',[_c('van-field',{attrs:{\"name\":_vm.ticketData[item.id],\"required\":item.not_skip_flag === 'T',\"type\":\"number\",\"placeholder\":\"请输入\",\"rules\":[{ required: item.not_skip_flag === 'T', message: '请输入' }]},model:{value:(_vm.ticketData[item.id]),callback:function ($$v) {_vm.$set(_vm.ticketData, item.id, $$v)},expression:\"ticketData[item.id]\"}})],1):_vm._e(),(item.options_id === 'radio')?_c('div',[_c('van-field',{attrs:{\"name\":_vm.ticketData[item.id],\"required\":item.not_skip_flag === 'T',\"rules\":[{ required: item.not_skip_flag === 'T', message: '请选择' }]},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('van-radio-group',{attrs:{\"direction\":\"horizontal\"},model:{value:(_vm.ticketData[item.id]),callback:function ($$v) {_vm.$set(_vm.ticketData, item.id, $$v)},expression:\"ticketData[item.id]\"}},_vm._l((item.list_options),function(it,i){return _c('van-radio',{key:i,attrs:{\"name\":it.value}},[_vm._v(_vm._s(it.label))])}),1)]},proxy:true}],null,true)})],1):_vm._e(),(item.options_id === 'checkbox')?_c('div',[_c('van-field',{attrs:{\"name\":'checkbox_' + item.id,\"required\":item.not_skip_flag === 'T',\"rules\":[{ required: item.not_skip_flag === 'T', message: '请选择' }]},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('van-checkbox-group',{attrs:{\"direction\":\"horizontal\"},model:{value:(_vm.ticketData[item.id]),callback:function ($$v) {_vm.$set(_vm.ticketData, item.id, $$v)},expression:\"ticketData[item.id]\"}},_vm._l((item.list_options),function(it,i){return _c('van-checkbox',{key:i,attrs:{\"name\":it.value,\"shape\":\"square\"}},[_vm._v(_vm._s(it.label))])}),1)]},proxy:true}],null,true)})],1):_vm._e(),(item.options_id === 'image')?_c('div',[_c('van-field',{attrs:{\"name\":'imageUploader' + item.id,\"required\":item.not_skip_flag === 'T',\"rules\":[{ required: item.not_skip_flag === 'T', message: '请上传' }]},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('custom-file-upload',{attrs:{\"capture\":'camera',\"name\":\"image\"},model:{value:(_vm.ticketData[item.id]),callback:function ($$v) {_vm.$set(_vm.ticketData, item.id, $$v)},expression:\"ticketData[item.id]\"}})]},proxy:true}],null,true)})],1):_vm._e(),(item.options_id === 'attachs')?_c('div',[_c('van-field',{attrs:{\"name\":'attachsUploader' + item.id,\"required\":item.not_skip_flag === 'T',\"rules\":[{ required: item.not_skip_flag === 'T', message: '请上传' }]},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('custom-file-upload',{attrs:{\"accept\":\".doc, .docx, .pdf, .xls, .xlsx\",\"name\":\"attachs\"},model:{value:(_vm.ticketData[item.id]),callback:function ($$v) {_vm.$set(_vm.ticketData, item.id, $$v)},expression:\"ticketData[item.id]\"}})]},proxy:true}],null,true)})],1):_vm._e(),(item.options_id === 'audio')?_c('div',[_c('van-field',{attrs:{\"name\":'audioUploader' + item.id,\"required\":item.not_skip_flag === 'T',\"rules\":[{ required: item.not_skip_flag === 'T', message: '请上传' }]},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('custom-file-upload',{attrs:{\"accept\":\".mp3\",\"name\":\"audio\"},model:{value:(_vm.ticketData[item.id]),callback:function ($$v) {_vm.$set(_vm.ticketData, item.id, $$v)},expression:\"ticketData[item.id]\"}})]},proxy:true}],null,true)})],1):_vm._e(),(item.options_id === 'datetime' || item.options_id === 'date')?_c('div',[_c('van-field',{attrs:{\"readonly\":\"\",\"clickable\":\"\",\"name\":_vm.ticketData[item.id],\"value\":_vm.ticketData[item.id],\"required\":item.not_skip_flag === 'T',\"placeholder\":\"点击选择时间\",\"rules\":[{ required: item.not_skip_flag === 'T', message: '请选择' }]},on:{\"click\":function($event){return _vm.showDatePicker(item)}}}),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.showPicker[item.id]),callback:function ($$v) {_vm.$set(_vm.showPicker, item.id, $$v)},expression:\"showPicker[item.id]\"}},[_c('van-datetime-picker',{attrs:{\"type\":item.options_id,\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate},on:{\"confirm\":function($event){return _vm.onConfirm($event, item)},\"cancel\":function($event){return _vm.cancelDatePicker(item)}}})],1)],1):_vm._e()],1)}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\"提交\")])],1)],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-form @submit=\"onSubmit\" :show-error-message=\"false\" @failed=\"validFailed\">\r\n      <div v-for=\"(item, index) in list\" :key=\"index\">\r\n        <van-cell :title=\"item.name\" :border=\"false\" />\r\n        <div v-if=\"item.options_id === 'text'\">\r\n          <van-field\r\n            v-model=\"ticketData[item.id]\"\r\n            :name=\"ticketData[item.id]\"\r\n            :required=\"item.not_skip_flag === 'T'\"\r\n            placeholder=\"请输入\"\r\n            :rules=\"[{ required: item.not_skip_flag === 'T', message: '请输入' }]\"/>\r\n        </div>\r\n        <div v-if=\"item.options_id === 'number'\">\r\n          <van-field\r\n            v-model=\"ticketData[item.id]\"\r\n            :name=\"ticketData[item.id]\"\r\n            :required=\"item.not_skip_flag === 'T'\"\r\n            type=\"number\"\r\n            placeholder=\"请输入\"\r\n            :rules=\"[{ required: item.not_skip_flag === 'T', message: '请输入' }]\"/>\r\n        </div>\r\n        <div v-if=\"item.options_id === 'radio'\">\r\n          <van-field\r\n            :name=\"ticketData[item.id]\"\r\n            :required=\"item.not_skip_flag === 'T'\"\r\n            :rules=\"[{ required: item.not_skip_flag === 'T', message: '请选择' }]\">\r\n            <template #input>\r\n              <van-radio-group v-model=\"ticketData[item.id]\" direction=\"horizontal\">\r\n                <van-radio v-for=\"(it, i) in item.list_options\" :key=\"i\" :name=\"it.value\">{{ it.label }}</van-radio>\r\n              </van-radio-group>\r\n            </template>\r\n          </van-field>\r\n        </div>\r\n        <div v-if=\"item.options_id === 'checkbox'\">\r\n          <van-field\r\n            :name=\"'checkbox_' + item.id\"\r\n            :required=\"item.not_skip_flag === 'T'\"\r\n            :rules=\"[{ required: item.not_skip_flag === 'T', message: '请选择' }]\">\r\n            <template #input>\r\n              <van-checkbox-group v-model=\"ticketData[item.id]\" direction=\"horizontal\">\r\n                <van-checkbox v-for=\"(it, i) in item.list_options\" :key=\"i\" :name=\"it.value\" shape=\"square\">{{ it.label }}</van-checkbox>\r\n              </van-checkbox-group>\r\n            </template>\r\n          </van-field>\r\n        </div>\r\n        <div v-if=\"item.options_id === 'image'\">\r\n          <van-field\r\n            :name=\"'imageUploader' + item.id\"\r\n            :required=\"item.not_skip_flag === 'T'\"\r\n            :rules=\"[{ required: item.not_skip_flag === 'T', message: '请上传' }]\">\r\n            <template #input>\r\n              <custom-file-upload v-model=\"ticketData[item.id]\" :capture=\"'camera'\" name=\"image\" />\r\n            </template>\r\n          </van-field>\r\n        </div>\r\n        <div v-if=\"item.options_id === 'attachs'\">\r\n          <van-field\r\n            :name=\"'attachsUploader' + item.id\"\r\n            :required=\"item.not_skip_flag === 'T'\"\r\n            :rules=\"[{ required: item.not_skip_flag === 'T', message: '请上传' }]\">\r\n            <template #input>\r\n              <custom-file-upload v-model=\"ticketData[item.id]\" accept=\".doc, .docx, .pdf, .xls, .xlsx\" name=\"attachs\" />\r\n            </template>\r\n          </van-field>\r\n        </div>\r\n        <div v-if=\"item.options_id === 'audio'\">\r\n          <van-field\r\n            :name=\"'audioUploader' + item.id\"\r\n            :required=\"item.not_skip_flag === 'T'\"\r\n            :rules=\"[{ required: item.not_skip_flag === 'T', message: '请上传' }]\">\r\n            <template #input>\r\n              <custom-file-upload v-model=\"ticketData[item.id]\" accept=\".mp3\" name=\"audio\" />\r\n            </template>\r\n          </van-field>\r\n        </div>\r\n        <div v-if=\"item.options_id === 'datetime' || item.options_id === 'date'\">\r\n          <van-field\r\n            readonly\r\n            clickable\r\n            :name=\"ticketData[item.id]\"\r\n            :value=\"ticketData[item.id]\"\r\n            :required=\"item.not_skip_flag === 'T'\"\r\n            placeholder=\"点击选择时间\"\r\n            :rules=\"[{ required: item.not_skip_flag === 'T', message: '请选择' }]\"\r\n            @click=\"showDatePicker(item)\"\r\n          />\r\n          <van-popup v-model=\"showPicker[item.id]\" position=\"bottom\">\r\n            <van-datetime-picker\r\n              :type=\"item.options_id\"\r\n              :min-date=\"minDate\"\r\n              :max-date=\"maxDate\"\r\n              @confirm=\"onConfirm($event, item)\"\r\n              @cancel=\"cancelDatePicker(item)\"/>\r\n          </van-popup>\r\n        </div>\r\n      </div>\r\n      <div style=\"margin: 16px;\">\r\n        <van-button round block type=\"info\" native-type=\"submit\">提交</van-button>\r\n      </div>\r\n    </van-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CustomFileUpload from '@/components/CustomFileUpload/index.vue'\r\n\r\nexport default {\r\n  name: 'TicketTaskDispose',\r\n  components: {CustomFileUpload},\r\n  data() {\r\n    return {\r\n      id: '',\r\n      templateId: '',\r\n      ticketData: {},\r\n      list: [],\r\n      showPicker: {},\r\n      minDate: this.$date().toDate(),\r\n      maxDate: this.$date().add(1, 'month').toDate()\r\n    }\r\n  },\r\n  mounted() {\r\n    this.templateId = this.$route.query.templateId\r\n    this.id = this.$route.query.id\r\n    this.getListTemplate()\r\n  },\r\n  methods: {\r\n    async getListTemplate() {\r\n      this.list = await this.$post('/task/ticket/list-template', { templateId: this.templateId })\r\n      if (this.list && this.list.length > 0) {\r\n        this.list.forEach(it => {\r\n          if (it.options_config) {\r\n            try {\r\n              it.list_options = JSON.parse(it.options_config)\r\n            } catch (e) {\r\n              console.log(e)\r\n            }\r\n          }\r\n          if (it.options_id === 'checkbox') {\r\n            this.$set(this.ticketData, it.id, [])\r\n          }\r\n          if (it.options_id === 'datetime' || it.options_id === 'date') {\r\n            // this.$set(this.ticketData, it.id, this.$date().toDate())\r\n          }\r\n        })\r\n      } else {\r\n        this.list = []\r\n      }\r\n    },\r\n    async onSubmit(form) {\r\n      const confirm = await this.$dialog.confirm({\r\n        title: '提示',\r\n        message: '是否确认保存？'\r\n      }).catch(() => {})\r\n      if (!confirm) return\r\n      const data = Object.assign({}, this.ticketData)\r\n      Object.keys(data).forEach(res => {\r\n        // 组装数据\r\n        this.list.forEach(it => {\r\n          if (parseInt(res) === parseInt(it.id) && (it.options_id === 'image' || it.options_id === 'attachs' || it.options_id === 'audio')) {\r\n            data[res] = data[res].map(m => {\r\n              if (m.url) {\r\n                return m.url.replace(this.$api.baseImage, '')\r\n              }\r\n              return false\r\n            })\r\n          }\r\n        })\r\n      })\r\n      data.id = this.id\r\n      await this.$post('/task/ticket/update', data)\r\n      this.$toast('提交成功')\r\n      await this.$utils.closePage(true)\r\n    },\r\n    onConfirm(date, item) {\r\n      let value = this.$date(date).format('YYYY-MM-DD HH:mm:ss')\r\n      if (item.options_id === 'date') {\r\n        value = this.$date(date).format('YYYY-MM-DD')\r\n      }\r\n      this.$set(this.ticketData, item.id, value)\r\n      this.cancelDatePicker(item)\r\n    },\r\n    validFailed(errorInfo) {\r\n      if (errorInfo.errors.length > 0) {\r\n        this.$toast(errorInfo.errors[0].message)\r\n      }\r\n    },\r\n    showDatePicker(item) {\r\n      this.$set(this.showPicker, item.id, true)\r\n    },\r\n    cancelDatePicker(item) {\r\n      this.$set(this.showPicker, item.id, false)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dispose.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dispose.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./dispose.vue?vue&type=template&id=0c2a7718&scoped=true\"\nimport script from \"./dispose.vue?vue&type=script&lang=js\"\nexport * from \"./dispose.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c2a7718\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","accept","name","maxCount","capture","beforeDelete","on","$event","preventDefault","clickUpload","apply","arguments","model","value","fileList","callback","$$v","expression","ref","onPhoto","staticRenderFns","directives","rawName","beforeRead","afterRead","props","type","String","require","default","data","fileType","mounted","methods","file","detail","isFile","indexOf","$toast","$emit","take","$nextTick","$refs","uploader","chooseFile","component","components","CustomPhoto","created","$on","res","console","log","splice","fileFormData","FormData","append","$postFile","then","push","url","$api","baseImage","isImage","catch","event","$utils","isPwa","$bridge","CollectPhoto","$post","base64","onSubmit","validFailed","_l","list","item","index","key","options_id","ticketData","id","not_skip_flag","required","message","$set","_e","scopedSlots","_u","fn","list_options","it","i","_v","_s","label","proxy","showDatePicker","showPicker","minDate","maxDate","onConfirm","cancelDatePicker","staticStyle","CustomFileUpload","templateId","$date","toDate","add","$route","query","getListTemplate","length","forEach","options_config","JSON","parse","e","form","confirm","$dialog","title","Object","assign","keys","parseInt","map","m","replace","closePage","date","format","errorInfo","errors"],"sourceRoot":""}