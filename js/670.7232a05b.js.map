{"version":3,"file":"js/670.7232a05b.js","mappings":"sKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,mBAAkB,EAAK,kBAAiB,EAAK,sBAAqB,GAAOC,GAAG,CAAC,OAASN,EAAIO,SAAS,OAASP,EAAIQ,cAAc,CAACN,EAAG,YAAY,CAACG,MAAM,CAAC,SAAW,GAAG,KAAO,cAAc,KAAO,WAAW,aAAe,MAAM,MAAQ,MAAM,YAAc,SAAS,MAAQ,CAAC,CAAEI,UAAU,EAAMC,QAAS,YAAaC,MAAM,CAACC,MAAOZ,EAAIa,YAAaC,SAAS,SAAUC,GAAMf,EAAIa,YAAYE,CAAG,EAAEC,WAAW,iBAAiBd,EAAG,YAAY,CAACG,MAAM,CAAC,SAAW,GAAG,KAAO,WAAW,KAAO,WAAW,aAAe,MAAM,MAAQ,MAAM,YAAc,SAAS,MAAQ,CAAC,CAAEI,UAAU,EAAMC,QAAS,YAAaC,MAAM,CAACC,MAAOZ,EAAIiB,SAAUH,SAAS,SAAUC,GAAMf,EAAIiB,SAASF,CAAG,EAAEC,WAAW,cAAcd,EAAG,YAAY,CAACG,MAAM,CAAC,SAAW,GAAG,KAAO,WAAW,KAAO,WAAW,aAAe,MAAM,MAAQ,OAAO,YAAc,UAAU,MAAQ,CAAC,CAAEI,UAAU,EAAMC,QAAS,WAAa,CAAEQ,UAAWlB,EAAImB,iBAAkBT,QAAS,aAAcC,MAAM,CAACC,MAAOZ,EAAIoB,SAAUN,SAAS,SAAUC,GAAMf,EAAIoB,SAASL,CAAG,EAAEC,WAAW,cAAcd,EAAG,MAAM,CAACmB,YAAY,CAAC,OAAS,SAAS,CAACnB,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,KAAO,OAAO,cAAc,WAAW,CAACL,EAAIsB,GAAG,SAAS,IAAI,IAAI,EAC/xC,EACIC,EAAkB,GCatB,GACAC,KAAA,iBACAC,IAAAA,GACA,OACAZ,YAAA,KACAI,SAAA,KACAG,SAAA,KAEA,EACAM,OAAAA,GACA,EACAC,QAAA,CACAR,gBAAAA,CAAAS,GACA,YAAAX,WAAAW,CACA,EACApB,WAAAA,CAAAqB,GACAA,EAAAC,OAAAC,OAAA,GACA,KAAAC,OAAAH,EAAAC,OAAA,GAAApB,QAEA,EACA,cAAAH,CAAA0B,GACA,QAAApB,cAAA,KAAAI,SAEA,YADA,KAAAe,OAAA,mBAGA,MAAAE,QAAA,KAAAC,QAAAD,QAAA,CACAE,MAAA,KACA1B,QAAA,cACA2B,OAAA,SACAH,UAEA,KAAAI,MAAAC,KAAA,4BACAtB,SAAA,KAAAA,SAAAuB,gBAAA,KAAApB,SAAAP,YAAA,KAAAA,cAEA,KAAAsB,QAAAM,MAAA,CACA/B,QAAA,YACAgC,MAAA,KACA,KAAAC,QAAAC,OAAA,GAAAF,MAAA,YAEA,ICtDqS,I,SCQjSG,GAAY,OACd,EACA9C,EACAwB,GACA,EACA,KACA,WACA,MAIF,EAAesB,EAAiB,O","sources":["webpack://sl-device-vue/./src/views/person/update_password.vue","webpack://sl-device-vue/src/views/person/update_password.vue","webpack://sl-device-vue/./src/views/person/update_password.vue?484a","webpack://sl-device-vue/./src/views/person/update_password.vue?7db6"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"custom-container\"},[_c('van-form',{attrs:{\"scroll-to-error\":true,\"validate-first\":true,\"show-error-message\":false},on:{\"submit\":_vm.onSubmit,\"failed\":_vm.validFailed}},[_c('van-field',{attrs:{\"required\":\"\",\"name\":\"passwordOld\",\"type\":\"password\",\"autocomplete\":\"off\",\"label\":\"旧密码\",\"placeholder\":\"请输入旧密码\",\"rules\":[{ required: true, message: '请输入旧密码' }]},model:{value:(_vm.passwordOld),callback:function ($$v) {_vm.passwordOld=$$v},expression:\"passwordOld\"}}),_c('van-field',{attrs:{\"required\":\"\",\"name\":\"password\",\"type\":\"password\",\"autocomplete\":\"off\",\"label\":\"新密码\",\"placeholder\":\"请输入新密码\",\"rules\":[{ required: true, message: '请输入新密码' }]},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('van-field',{attrs:{\"required\":\"\",\"name\":\"surepass\",\"type\":\"password\",\"autocomplete\":\"off\",\"label\":\"确认密码\",\"placeholder\":\"请再次输入密码\",\"rules\":[{ required: true, message: '请再次输入密码' }, { validator: _vm.validatePassword, message: '两次密码不一致' }]},model:{value:(_vm.surepass),callback:function ($$v) {_vm.surepass=$$v},expression:\"surepass\"}}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\"提交\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"custom-container\">\r\n    <van-form @submit=\"onSubmit\" :scroll-to-error=\"true\" :validate-first=\"true\" :show-error-message=\"false\" @failed=\"validFailed\">\r\n      <van-field v-model=\"passwordOld\" required name=\"passwordOld\" type=\"password\" autocomplete=\"off\" label=\"旧密码\" placeholder=\"请输入旧密码\" :rules=\"[{ required: true, message: '请输入旧密码' }]\" />\r\n      <van-field v-model=\"password\" required name=\"password\" type=\"password\" autocomplete=\"off\" label=\"新密码\" placeholder=\"请输入新密码\" :rules=\"[{ required: true, message: '请输入新密码' }]\" />\r\n      <van-field v-model=\"surepass\" required name=\"surepass\" type=\"password\" autocomplete=\"off\" label=\"确认密码\" placeholder=\"请再次输入密码\"\r\n                 :rules=\"[{ required: true, message: '请再次输入密码' }, { validator: validatePassword, message: '两次密码不一致' }]\" />\r\n      <div style=\"margin: 16px;\">\r\n        <van-button round block type=\"info\" native-type=\"submit\">提交</van-button>\r\n      </div>\r\n    </van-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'UpdatePassword',\r\n  data() {\r\n    return {\r\n      passwordOld: null,\r\n      password: null,\r\n      surepass: null\r\n    }\r\n  },\r\n  mounted() {\r\n  },\r\n  methods: {\r\n    validatePassword(val) {\r\n      return this.password === val\r\n    },\r\n    validFailed(errorInfo) {\r\n      if (errorInfo.errors.length > 0) {\r\n        this.$toast(errorInfo.errors[0].message)\r\n      }\r\n    },\r\n    async onSubmit(values) {\r\n      if (this.passwordOld === this.password) {\r\n        this.$toast('旧密码与新密码一致，请重新输入')\r\n        return\r\n      }\r\n      const confirm = await this.$dialog.confirm({\r\n        title: '提示',\r\n        message: '是否确认修改密码？'\r\n      }).catch(() => {})\r\n      if (!confirm) return\r\n\r\n      await this.$http.post('/account/update-password', {\r\n        password: this.password, passwordConfirm: this.surepass, passwordOld: this.passwordOld\r\n      })\r\n      this.$dialog.alert({\r\n        message: '密码修改成功！'\r\n      }).then(() => {\r\n        this.$bridge.Close(false).then(() => {})\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .user_login {\r\n        width: 100%;\r\n\r\n        .header {\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n            padding: 10px 15px;\r\n            font-size: 16px;\r\n            font-weight: bold;\r\n            color: #ff8006;\r\n\r\n            .header-name {\r\n                color: #333333;\r\n            }\r\n\r\n            img {\r\n                width: 11px;\r\n                height: 18px;\r\n            }\r\n        }\r\n\r\n        .title {\r\n            padding: 30px;\r\n\r\n            .main-title {\r\n                font-size: 24px;\r\n                font-weight: bold;\r\n                color: #080303;\r\n            }\r\n\r\n            .sub-title {\r\n                margin-top: 15px;\r\n                font-size: 14px;\r\n                color: #cecdd2;\r\n\r\n                span {\r\n                    color: #5177e4;\r\n                }\r\n            }\r\n        }\r\n\r\n        .form {\r\n            padding: 30px;\r\n\r\n            .form-input {\r\n                width: 100%;\r\n                padding: 15px 0;\r\n                border-top: none;\r\n                border-left: none;\r\n                border-right: none;\r\n                border-bottom: 1px solid #f2f2f2;\r\n                outline: none;\r\n                font-size: 16px;\r\n                line-height: 16px;\r\n            }\r\n\r\n            input::-webkit-input-placeholder {\r\n                color: #cecdd2;\r\n                font-size: 18px;\r\n            }\r\n\r\n            .pass {\r\n                position: relative;\r\n\r\n                .disabled {\r\n                    background-color: transparent;\r\n                    color: #000000;\r\n                    font-size: 14px;\r\n                    cursor: not-allowed; // 鼠标变化\r\n                }\r\n            }\r\n\r\n            .re-pass {\r\n                margin-top: 30px;\r\n            }\r\n\r\n            .invalid-feedback {\r\n                margin-top: 15px;\r\n                font-size: 14px;\r\n                color: #5177e4;\r\n            }\r\n\r\n            .login-btm {\r\n                .form-btm {\r\n                    border-radius: 4px;\r\n                    height: 50px;\r\n                    line-height: 50px;\r\n                    font-size: 17px;\r\n                    text-align: center;\r\n                    width: 100%;\r\n                    border: none;\r\n                    outline: none;\r\n                    margin-top: 40px;\r\n                }\r\n\r\n                .invalid {\r\n                    color: #c7c8cc;\r\n                    background: #f2f3f7;\r\n                }\r\n\r\n                .valid {\r\n                    color: #ffffff;\r\n                    background: linear-gradient(to bottom right, #ffb421, #ff9303);\r\n                }\r\n            }\r\n\r\n            .switch-opt {\r\n                margin-top: 17px;\r\n                display: flex;\r\n                justify-content: space-between;\r\n\r\n                span {\r\n                    color: #5177e4;\r\n                    font-size: 14px;\r\n                }\r\n            }\r\n        }\r\n\r\n        .login-mode {\r\n            margin-top: 55px;\r\n            position: relative;\r\n            left: 50%;\r\n            margin-left: -33%;\r\n            bottom: 8%;\r\n            width: 66%;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n\r\n            img {\r\n                width: 52px;\r\n                height: 52px;\r\n            }\r\n        }\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./update_password.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./update_password.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./update_password.vue?vue&type=template&id=7f4e68a7&scoped=true\"\nimport script from \"./update_password.vue?vue&type=script&lang=js\"\nexport * from \"./update_password.vue?vue&type=script&lang=js\"\nimport style0 from \"./update_password.vue?vue&type=style&index=0&id=7f4e68a7&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f4e68a7\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","onSubmit","validFailed","required","message","model","value","passwordOld","callback","$$v","expression","password","validator","validatePassword","surepass","staticStyle","_v","staticRenderFns","name","data","mounted","methods","val","errorInfo","errors","length","$toast","values","confirm","$dialog","title","catch","$http","post","passwordConfirm","alert","then","$bridge","Close","component"],"sourceRoot":""}