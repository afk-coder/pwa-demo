"use strict";(self["webpackChunksl_device_vue"]=self["webpackChunksl_device_vue"]||[]).push([[670],{7670:function(s,e,a){a.r(e),a.d(e,{default:function(){return n}});var r=function(){var s=this,e=s._self._c;return e("div",{staticClass:"custom-container"},[e("van-form",{attrs:{"scroll-to-error":!0,"validate-first":!0,"show-error-message":!1},on:{submit:s.onSubmit,failed:s.validFailed}},[e("van-field",{attrs:{required:"",name:"passwordOld",type:"password",autocomplete:"off",label:"旧密码",placeholder:"请输入旧密码",rules:[{required:!0,message:"请输入旧密码"}]},model:{value:s.passwordOld,callback:function(e){s.passwordOld=e},expression:"passwordOld"}}),e("van-field",{attrs:{required:"",name:"password",type:"password",autocomplete:"off",label:"新密码",placeholder:"请输入新密码",rules:[{required:!0,message:"请输入新密码"}]},model:{value:s.password,callback:function(e){s.password=e},expression:"password"}}),e("van-field",{attrs:{required:"",name:"surepass",type:"password",autocomplete:"off",label:"确认密码",placeholder:"请再次输入密码",rules:[{required:!0,message:"请再次输入密码"},{validator:s.validatePassword,message:"两次密码不一致"}]},model:{value:s.surepass,callback:function(e){s.surepass=e},expression:"surepass"}}),e("div",{staticStyle:{margin:"16px"}},[e("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[s._v("提交")])],1)],1)],1)},t=[],o={name:"UpdatePassword",data(){return{passwordOld:null,password:null,surepass:null}},mounted(){},methods:{validatePassword(s){return this.password===s},validFailed(s){s.errors.length>0&&this.$toast(s.errors[0].message)},async onSubmit(s){if(this.passwordOld===this.password)return void this.$toast("旧密码与新密码一致，请重新输入");const e=await this.$dialog.confirm({title:"提示",message:"是否确认修改密码？"}).catch((()=>{}));e&&(await this.$http.post("/account/update-password",{password:this.password,passwordConfirm:this.surepass,passwordOld:this.passwordOld}),this.$dialog.alert({message:"密码修改成功！"}).then((()=>{this.$bridge.Close(!1).then((()=>{}))})))}}},l=o,d=a(845),i=(0,d.A)(l,r,t,!1,null,"7f4e68a7",null),n=i.exports}}]);
//# sourceMappingURL=670.7232a05b.js.map