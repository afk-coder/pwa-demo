"use strict";(self["webpackChunksl_device_vue"]=self["webpackChunksl_device_vue"]||[]).push([[770],{9770:function(t,e,i){i.r(e),i.d(e,{default:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container",staticStyle:{"background-color":"white"}},[e("van-cell",{attrs:{title:"请签名确认",value:"",label:"* 请在空白处录入您的签名","label-class":"val-cell-label",border:!1}}),e("div",{staticStyle:{border:"1px dashed #dddddd",margin:"20px"}},[e("vue-esign",{ref:"esign",staticClass:"sign-border",attrs:{width:t.canvasWidth,height:340,"is-crop":t.isCrop,"line-width":t.lineWidth,"line-color":t.lineColor,"bg-color":t.finalBgColor},on:{"update:bgColor":function(e){t.finalBgColor=e},"update:bg-color":function(e){t.finalBgColor=e}}})],1),e("div",{staticStyle:{"text-align":"center"}},[e("van-button",{staticStyle:{width:"80px"},attrs:{round:"",size:"small",icon:"clear"},on:{click:t.handleReset}},[t._v("清空")]),e("van-button",{staticStyle:{width:"80px",margin:"20px"},attrs:{round:"",type:"info",size:"small",icon:"checked"},on:{click:t.handleCreate}},[t._v("保存")])],1)],1)},s=[],l=(i(4114),{name:"TransportSign",props:{bgColor:{type:String,default:""}},data(){return{step_id:"",canvasWidth:document.body.clientWidth-20,lineWidth:3,lineColor:"#000000",isCrop:!1,finalBgColor:""}},mounted(){this.step_id=this.$route.query.step_id,this.finalBgColor=this.bgColor},methods:{handleReset(){this.$refs.esign.reset()},async handleCreate(){const t=await this.$refs.esign.generate().catch((()=>{this.$toast("请先签名，再保存")}));let e=await this.$dialog.confirm({title:"标题",message:"是否确认保存？"}).catch((()=>{}));if(!e)return;const i=[];i.push(t.substring(t.indexOf(",")+1)),await this.$http.post("/work-ticket/qc_step/sign-in",{step_id:this.step_id,file_list:i}),e=await this.$dialog.alert({message:"操作成功！"}),e&&await this.$router.back()}}}),n=l,o=i(845),r=(0,o.A)(n,a,s,!1,null,"eab128fa",null),c=r.exports}}]);
//# sourceMappingURL=770.99b89c8e.js.map